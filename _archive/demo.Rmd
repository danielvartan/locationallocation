---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code.

```{r}

library(devtools)
devtools::document()

library(locationallocation)

plot(naples_population)
plot(naples_shape$geom, add=T, col="transparent")
plot(naples_fountains$geom, add=T, col="blue")

```

AAA

```{r}
out_tt <- traveltime(facilities=naples_fountains, bb_area=naples_shape, dowscaling_model_type="lm", mode="walk", res_output=100)

traveltime_plot(t1=out_tt, facilities = naples_fountains)
```

AAA

```{r}
output_allocation <- allocation(demand = naples_population, sf_area = naples_shape, facilities=naples_fountains, traveltime=out_tt, weights=NULL, objectiveminutes=15, objectiveshare=0.01, heur="max")

allocation_plot(output_allocation)

```

AAA

```{r}
candidates <- st_sample(naples_shape, 30)

output_allocation_discrete <- allocation_discrete(demand = naples_population, sf_area = naples_shape, facilities=naples_fountains, candidate=candidates, n_fac = 10, traveltime=out_tt, weights=NULL, objectiveminutes=15)

allocation_plot_discrete(output_allocation_discrete)

```
