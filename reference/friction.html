<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download and downscale a friction surface layer — friction • locationallocation</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download and downscale a friction surface layer — friction"><meta name="description" content="friction() retrieves a
friction surface layer
from the Malaria Atlas Project (MAP) database
(Hay et al., 2006; Malaria Atlas Project, 2015, 2019) and optionally
downscale it to the spatial resolution of the analysis using road network
data from OpenStreetMap (n.d.) (OSM).
This function requires an active internet connection."><meta property="og:description" content="friction() retrieves a
friction surface layer
from the Malaria Atlas Project (MAP) database
(Hay et al., 2006; Malaria Atlas Project, 2015, 2019) and optionally
downscale it to the spatial resolution of the analysis using road network
data from OpenStreetMap (n.d.) (OSM).
This function requires an active internet connection."><meta property="og:image" content="https://giacfalk.github.io/locationallocation/reference/figures/og-image.png"><meta property="og:image:alt" content="locationallocation"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">locationallocation</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/giacfalk/locationallocation/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Download and downscale a friction surface layer</h1>
      <small class="dont-index">Source: <a href="https://github.com/giacfalk/locationallocation/blob/main/R/friction.R" class="external-link"><code>R/friction.R</code></a></small>
      <div class="d-none name"><code>friction.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>friction()</code> retrieves a
<a href="https://en.wikipedia.org/wiki/Friction_of_distance" class="external-link">friction surface</a> layer
from the Malaria Atlas Project (<a href="https://malariaatlas.org/" class="external-link">MAP</a>) database
(Hay et al., 2006; Malaria Atlas Project, 2015, 2019) and optionally
downscale it to the spatial resolution of the analysis using road network
data from OpenStreetMap (n.d.) (<a href="https://www.openstreetmap.org/" class="external-link">OSM</a>).</p>
<p>This function requires an active internet connection.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">friction</span><span class="op">(</span></span>
<span>  <span class="va">bb_area</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"walk"</span>,</span>
<span>  dowscaling_model_type <span class="op">=</span> <span class="st">"lm"</span>,</span>
<span>  res_output <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  cache <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  file <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-bb-area">bb_area<a class="anchor" aria-label="anchor" href="#arg-bb-area"></a></dt>
<dd><p>A <code><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">sf</a></code> boundary box object with the area
of interest.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>(optional) A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> string indicating
the mode of transport. Options are <code>"fastest"</code> and <code>"walk"</code> (default =
<code>"walk"</code>).</p><ul><li><p>For <code>"fastest"</code>: The friction layer accounts for multiple modes of
transport, including walking, cycling, driving, and public transport, and are
based on the Malaria Atlas Project (2019) <em>Global Travel Speed Friction
Surface</em>.</p></li>
<li><p>For <code>"walk"</code>: The friction layer accounts only for walking speeds and is
based on the Malaria Atlas Project (2015) <em>Global Walking Only Friction
Surface</em>.</p></li>
</ul></dd>


<dt id="arg-dowscaling-model-type">dowscaling_model_type<a class="anchor" aria-label="anchor" href="#arg-dowscaling-model-type"></a></dt>
<dd><p>(optional) A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code>
string indicating the type of model used for the spatial downscaling of the
friction layer. Options are <code>"lm"</code> (linear model) and <code>"rf"</code> (random
forest) (default: <code>"lm"</code>).</p></dd>


<dt id="arg-res-output">res_output<a class="anchor" aria-label="anchor" href="#arg-res-output"></a></dt>
<dd><p>(optional) A positive
<a href="https://mllg.github.io/checkmate/reference/checkIntegerish.html" class="external-link">integerish</a> number indicating the spatial
resolution of the friction raster (and of the analysis), in meters. If the
resolution is less than <code>1000</code>, a spatial downscaling approach is used
(default: <code>100</code>).</p></dd>


<dt id="arg-cache">cache<a class="anchor" aria-label="anchor" href="#arg-cache"></a></dt>
<dd><p>(optional) A <code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></code> flag
indicating whether to cache the downloaded friction data for future use
(default: <code>TRUE</code>).</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>(optional) A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> string indicating
the path to a local friction surface raster file. If provided, the
function will use this file instead of downloading the friction data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a> <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></code> with the
following elements:</p><ul><li><p><code>friction_layer</code>: A <code><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">RasterLayer</a></code> object with the
friction surface layer.</p></li>
<li><p><code>transition_matrix</code>: A <code><a href="https://AgrDataSci.github.io/gdistance/reference/transition.html" class="external-link">TransitionLayer</a></code> with
the transition matrix for cost-distance calculations.</p></li>
<li><p><code>geocorrection_matrix</code>: A <code><a href="https://AgrDataSci.github.io/gdistance/reference/transition.html" class="external-link">TransitionLayer</a></code>
with the geocorrection matrix for accurate distance calculations.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Hay, S. I., &amp; Snow, R. W. (2006). The Malaria Atlas Project: Developing
global maps of malaria risk. <em>PLOS Medicine</em>, <em>3</em>(12), e473.
<a href="https://doi.org/10.1371/journal.pmed.0030473" class="external-link">doi:10.1371/journal.pmed.0030473</a></p>
<p>Malaria Atlas Project. (2015). <em>Friction surface: Global travel speed
friction surface</em> (Version 201501).
<a href="https://data.malariaatlas.org/maps" class="external-link">https://data.malariaatlas.org/maps</a></p>
<p>Malaria Atlas Project. (2019). <em>Friction surface: Global walking only
friction surface</em> (Version 202001).
<a href="https://data.malariaatlas.org/maps" class="external-link">https://data.malariaatlas.org/maps</a></p>
<p>OpenStreetMap Foundation. (n.d.). <em>OpenStreetMap</em> [Computer software].
<a href="https://www.openstreetmap.org" class="external-link">https://www.openstreetmap.org</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other travel time functions:
<code><a href="traveltime.html">traveltime()</a></code>,
<code><a href="traveltime_plot.html">traveltime_plot()</a></code>,
<code><a href="traveltime_stats.html">traveltime_stats()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="va">naples_shape</span> <span class="op">|&gt;</span> <span class="fu">friction</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/giacfalk/" class="external-link">Giacomo Falchetta</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

